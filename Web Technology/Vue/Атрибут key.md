`Key` используется в основном как подсказка для `VirtualDOM` во `Vue`, чтобы различать элементы при сравнении старой и новой версии `VirtualDOM`.

Есть массив из объектов. У каждого имеется `id` и `value`. На странице отображается три `value` возле каждого есть `<input />`, в одном из них есть значение. Также есть кнопка, при нажатии на которой будет осуществлён сдвиг элементов массива на случайное число.

```js
data() {
	return {
		numberList: [
			{ id: 1, value: 'One' },
			{ id: 2, value: 'Two' },
			{ id: 3, value: 'Three' },
		],
	};
},
```

```html
<div>
	<template v-for="{ value, id } in numberList">
		<div>
			<label for="inputText">{{ value }}</label>
			<input id="inputText" type="text" />
		</div>
	</template>
	<button @click="shiftTo">Random shift</button>
</div>
```

![[Pasted image 20230227174932.png]]

Без использования атрибута `key` `Vue` использует алгоритм `замена на месте`, элементы не переставляются, но в них меняется контент.

![[Pasted image 20230227175831.png]]

![[Pasted image 20230227175856.png]]

Можно заметить, что значение первого `<input />` сохраняется даже при нажатии на кнопку, это значит, что порядок элементов не меняется.

Если же добавить атрибут `key`. Атрибут добавляется с помощью директивы `v-bind` (или как сокращение), потому что параметр будет динамическим. 

```html
<template v-for="{ value, id } in numberList" :key="id"></template>
```

Изначально положение будет такое же, как и выше.

![[Pasted image 20230227174932.png]]

![[Pasted image 20230227180450.png]]

![[Pasted image 20230227180503.png]]

Как можно заметить, теперь значение `<input />` меняется вместе с `value`. Теперь осуществляется перестановка элементов.

---
Теги: #vue 
